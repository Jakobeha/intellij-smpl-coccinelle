SmPL File
  ASTWrapperPsiElement(SmPLElementType.COCCI_HEADER)
    ASTWrapperPsiElement(SmPLElementType.VIRTUAL_COCCI)
      PsiElement(SmPLTokenType.virtual)('virtual')
      PsiElement(SmPLTokenType.word)('patch')
  ASTWrapperPsiElement(SmPLElementType.SCRIPT_CODE)
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_METAVARIABLES)
      PsiElement(SmPLTokenType.@initialize:)('@initialize:')
      ASTWrapperPsiElement(SmPLElementType.SCRIPT_LANG)
        PsiElement(SmPLTokenType.python)('python')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        <empty list>
      PsiElement(SmPLTokenType.@)('@')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_BODY)
      PsiElement(SmPLTokenType.PYTHON_BLOCK)('\n\nf = open('coccinelle.log', 'a')\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('probe')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('p')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('probefn')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.DECLARER_NAME_METADECL)
          PsiElement(SmPLTokenType.declarer name)('declarer name')
          ASTWrapperPsiElement(SmPLElementType.IDS)
            ASTWrapperPsiElement(SmPLElementType.ID)
              PsiElement(SmPLTokenType.word)('module_platform_driver_probe')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('pos')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\n(\n  module_platform_driver_probe(p, probefn@pos);\n|\n  struct platform_driver p = {\n    .probe = probefn@pos,\n  };\n|\n  struct i2c_driver p = {\n    .probe = probefn@pos,\n  };\n|\n  struct spi_driver p = {\n    .probe = probefn@pos,\n  };\n)\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('remove')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('probe')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('p')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('removefn')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\n  struct\n(\n  platform_driver\n|\n  i2c_driver\n|\n  spi_driver\n)\n  p = {\n    .remove = \(__exit_p(removefn)\|removefn\),\n  };\n\n// Get type of device.\n// Using it ensures that we don't touch any other data structure\n// which might have a '->dev' object.\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('ptype')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('probe')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.TYPE_METADECL)
          PsiElement(SmPLTokenType.type)('type')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('T')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('probe')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('probefn')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('pdev')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\nprobefn(T *pdev, ...) { ... }\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('have_action')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('probe')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('initfn')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('p')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.TYPE_METADECL)
          PsiElement(SmPLTokenType.type)('type')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ptype')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('T')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('pdev')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('func')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('err')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('data')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\ninitfn(T *pdev, ...)\n{\n<+...\n  err = devm_add_action@p(..., func, data);\n  if (err) {\n    func(data);\n    ...\n  }\n...+>\n}\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('action')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('have_action')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('have_action')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('p')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('have_action')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('err')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('have_action')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('func')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression list)('expression list')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('es')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\n\n- err = devm_add_action@p(es);\n+ err = devm_add_action_or_reset(es);\n  if (err) {\n- func(...);\n  ...\n  }\n\n')
  ASTWrapperPsiElement(SmPLElementType.SCRIPT_CODE)
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_METAVARIABLES)
      PsiElement(SmPLTokenType.@script:)('@script:')
      ASTWrapperPsiElement(SmPLElementType.SCRIPT_LANG)
        PsiElement(SmPLTokenType.python)('python')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('have_action')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL)
        ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL_ASSIGN)
          ASTWrapperPsiElement(SmPLElementType.ID)
            PsiElement(SmPLTokenType.word)('p')
        ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL_ASSIGN_RULE)
          PsiElement(SmPLTokenType.<<)('<<')
          ASTWrapperPsiElement(SmPLElementType.VID)
            ASTWrapperPsiElement(SmPLElementType.ID)
              PsiElement(SmPLTokenType.word)('have_action')
          PsiElement(SmPLTokenType..)('.')
          ASTWrapperPsiElement(SmPLElementType.ID)
            PsiElement(SmPLTokenType.word)('p')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_BODY)
      PsiElement(SmPLTokenType.PYTHON_BLOCK)('\n\nprint >> f, "%s:action1:%s" % (p[0].file, p[0].line)\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('ha2')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('probe')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('initfn')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('p')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('p1')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.TYPE_METADECL)
          PsiElement(SmPLTokenType.type)('type')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ptype')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('T')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('pdev')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('f1')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('f2')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('err')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('d1')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('d2')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\ninitfn@p1(T *pdev, ...)\n{\n<+...\n  err = devm_add_action@p(..., f1, d1);\n  if (err) {\n    ...\n    f2(d2);\n    ...\n  }\n...+>\n}\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('ha3')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('ha2')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('f1')
            PsiElement(SmPLTokenType.,)(',')
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('f2')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('p')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\n\n  f1@p(...)\n  {\n  <+...\n  f2(...);\n  ...+>\n  }\n\n')
  ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION)
    ASTWrapperPsiElement(SmPLElementType.METAVARIABLES)
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.ID)
          PsiElement(SmPLTokenType.word)('ha4')
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('ha2')
            PsiElement(SmPLTokenType.&&)('&&')
            ASTWrapperPsiElement(SmPLElementType.DEP)
              ASTWrapperPsiElement(SmPLElementType.DEP_)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha3')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('err')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.IDENTIFIER_METADECL)
          PsiElement(SmPLTokenType.identifier)('identifier')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('f2')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression)('expression')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('d2')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.POSITION_METADECL)
          PsiElement(SmPLTokenType.position)('position')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('ha2')
              PsiElement(SmPLTokenType..)('.')
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('p')
        PsiElement(SmPLTokenType.;)(';')
      ASTWrapperPsiElement(SmPLElementType.METADECL)
        ASTWrapperPsiElement(SmPLElementType.EXPRESSION_METADECL)
          PsiElement(SmPLTokenType.expression list)('expression list')
          ASTWrapperPsiElement(SmPLElementType.PMIDS_WITH_CONSTRAINTS)
            ASTWrapperPsiElement(SmPLElementType.PMID)
              ASTWrapperPsiElement(SmPLElementType.VID)
                ASTWrapperPsiElement(SmPLElementType.ID)
                  PsiElement(SmPLTokenType.word)('es')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.TRANSFORMATION_BODY)
      PsiElement(SmPLTokenType.TRANSFORMATION_BLOCK)('\n\n- err = devm_add_action@p(es);\n+ err = devm_add_action_or_reset(es);\n  if (err) {\n  ...\n- f2(d2);\n  ...\n  }\n\n')
  ASTWrapperPsiElement(SmPLElementType.SCRIPT_CODE)
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_METAVARIABLES)
      PsiElement(SmPLTokenType.@script:)('@script:')
      ASTWrapperPsiElement(SmPLElementType.SCRIPT_LANG)
        PsiElement(SmPLTokenType.python)('python')
      ASTWrapperPsiElement(SmPLElementType.RULENAME)
        ASTWrapperPsiElement(SmPLElementType.DEPENDS_ON_RULEATTR)
          PsiElement(SmPLTokenType.depends on)('depends on')
          ASTWrapperPsiElement(SmPLElementType.DEP)
            ASTWrapperPsiElement(SmPLElementType.DEP_)
              ASTWrapperPsiElement(SmPLElementType.ID)
                PsiElement(SmPLTokenType.word)('ha4')
      PsiElement(SmPLTokenType.@)('@')
      ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL)
        ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL_ASSIGN)
          ASTWrapperPsiElement(SmPLElementType.ID)
            PsiElement(SmPLTokenType.word)('p')
        ASTWrapperPsiElement(SmPLElementType.SCRIPT_METADECL_ASSIGN_RULE)
          PsiElement(SmPLTokenType.<<)('<<')
          ASTWrapperPsiElement(SmPLElementType.VID)
            ASTWrapperPsiElement(SmPLElementType.ID)
              PsiElement(SmPLTokenType.word)('probe')
          PsiElement(SmPLTokenType..)('.')
          ASTWrapperPsiElement(SmPLElementType.ID)
            PsiElement(SmPLTokenType.word)('pos')
        PsiElement(SmPLTokenType.;)(';')
      PsiElement(SmPLTokenType.@@)('@@')
    ASTWrapperPsiElement(SmPLElementType.SCRIPT_BODY)
      PsiElement(SmPLTokenType.PYTHON_BLOCK)('\n\nprint >> f, "%s:action1:%s" % (p[0].file, p[0].line)')